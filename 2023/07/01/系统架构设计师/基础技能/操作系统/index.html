

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Francis">
  <meta name="keywords" content="">
  
    <meta name="description" content="1 操作系统概述操作系统的类型：批处理，分时，实时，网络操作系统和分布式操作系统。 操作系统具有的五大功能：处理器管理，存储管理，设备管理，文件管理和作业管理。不管任何类型的操作系统都有这样的分配。 现代的操作系统大多拥有两种工作状态：核心态和用户态。我们一般的应用程序工作在用户态，而内核模块和最基本的操作系统核心工作在核心态。 操作系统的结构可以分为无序结构，层次结构，面向对象结构，对称多处理结">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统">
<meta property="og:url" content="http://www.zivjie.cn/2023/07/01/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88/%E5%9F%BA%E7%A1%80%E6%8A%80%E8%83%BD/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/index.html">
<meta property="og:site_name" content="Francis-Blog">
<meta property="og:description" content="1 操作系统概述操作系统的类型：批处理，分时，实时，网络操作系统和分布式操作系统。 操作系统具有的五大功能：处理器管理，存储管理，设备管理，文件管理和作业管理。不管任何类型的操作系统都有这样的分配。 现代的操作系统大多拥有两种工作状态：核心态和用户态。我们一般的应用程序工作在用户态，而内核模块和最基本的操作系统核心工作在核心态。 操作系统的结构可以分为无序结构，层次结构，面向对象结构，对称多处理结">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.zivjie.cn/img/a%20lonely%20winte.png">
<meta property="article:published_time" content="2023-07-01T03:30:00.000Z">
<meta property="article:modified_time" content="2023-09-22T06:44:52.682Z">
<meta property="article:author" content="Francis">
<meta property="article:tag" content="系统架构师">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://www.zivjie.cn/img/a%20lonely%20winte.png">
  
  
  
  <title>操作系统 - Francis-Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"www.zivjie.cn","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Francis</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="操作系统"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-07-01 11:30" pubdate>
          2023年7月1日 中午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          5.3k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          45 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">操作系统</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="1-操作系统概述"><a href="#1-操作系统概述" class="headerlink" title="1 操作系统概述"></a>1 操作系统概述</h2><p>操作系统的类型：批处理，分时，实时，网络操作系统和分布式操作系统。</p>
<p>操作系统具有的五大功能：处理器管理，存储管理，设备管理，文件管理和作业管理。不管任何类型的操作系统都有这样的分配。</p>
<p>现代的操作系统大多拥有两种工作状态：核心态和用户态。我们一般的应用程序工作在用户态，而内核模块和最基本的操作系统核心工作在核心态。</p>
<p>操作系统的结构可以分为无序结构，层次结构，面向对象结构，对称多处理结构和微内核结构。</p>
<p><img src="/image/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/1.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="2-进程管理"><a href="#2-进程管理" class="headerlink" title="2 进程管理"></a>2 进程管理</h2><h3 id="2-1-进程概念"><a href="#2-1-进程概念" class="headerlink" title="2.1 进程概念"></a>2.1 进程概念</h3><p>进程是程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位。它由程序块、进程控制块（PCB）和数据块三部分组成。</p>
<p>PCB，PCB是进程存在的唯一标志，是进程的一个组成部分，是一种记录型数据结构。内容包含进程标识符、状态、位置信息、控制信息、队列指针（链接同一状态的进程）、优先级、现场保护区等。</p>
<p><img src="/image/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/2.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>进程与程序</strong></p>
<p>进程与程序的区别：进程是程序的一次执行过程,没有程序就没有进程。</p>
<p>程序是一个静态的概念，而进程是一个动态的概念，它由创建而产生，完成任务后因撤销而消亡;进程是系统进行资源分配和调度的独立单位，而程序不是。</p>
<p><strong>进程与线程</strong></p>
<p>进程的2个基本属性：可拥有资源的独立单位，可独立调度和分配资源的基本单位。<br>一般情况下，一个进程会包含多个线程。</p>
<h3 id="2-2-进程状态"><a href="#2-2-进程状态" class="headerlink" title="2.2 进程状态"></a>2.2 进程状态</h3><p><strong>三态图</strong> ：就绪，运行，阻塞三种状态。就绪的时候等待时间片从而运行，而阻塞是说明进程没有被喂饱资源，有了资源就到就绪态</p>
<p><img src="/image/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/3.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>五态图</strong> ：运行状态，活跃就绪状态，静止就绪状态，活跃阻塞状态和静止阻塞状态。除了运行态以外，阻塞态分为了静止阻塞和活跃阻塞，而就绪态也被分为了静止就绪和活跃就绪，这样就一共有了五个状态。</p>
<p><img src="/image/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/4.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="2-3-进程的同步与互斥"><a href="#2-3-进程的同步与互斥" class="headerlink" title="2.3 进程的同步与互斥"></a>2.3 进程的同步与互斥</h3><p><strong>互斥</strong>，千军万马过独木桥，同类资源的竞争关系</p>
<p><strong>同步</strong>，速度有差异，在一定情况停下等待，进程之间的协作关系</p>
<blockquote>
<p>临界资源：诸进程间需要互斥方式对其进行共享的资源，如打印机、磁带机等</p>
<p>临界区：每个进程中访问临界资源的那段代码称为临界区</p>
<p>信号量：是一种特殊的变量</p>
</blockquote>
<h3 id="2-4-PV操作"><a href="#2-4-PV操作" class="headerlink" title="2.4 PV操作"></a>2.4 PV操作</h3><p>PV操作是实现进程同步与互斥的常用方法。</p>
<p>P操作表示申请一个资源，负责获得资源并阻塞，V操作表示释放一个资源。</p>
<p>P操作和V操作是低级通信原语，在执行期间不可分割。</p>
<p>PV操作由P操作原语和V操作原语组成（原语是不可中断的过程）。</p>
<p>PV操作的意义：用信号量及PV操作来实现进程的同步和互斥。</p>
<p>信号量：是一种特殊的变量（全局的），习惯用大写S表示。</p>
<p>大部分情况下（没有事先说明），信号量S的初始值会被认为是1，1代表初始情况下有资源进行分配调用。</p>
<p>对信号量进行操作，具体定义如下：</p>
<p><strong>P操作</strong>（请求分配一个资源）：</p>
<p>将信号量S的值减1，即 S = S - 1<br>如果S &gt;= 0，则该进程继续执行，否则该进程进入等待状态</p>
<p><strong>V操作</strong>（释放一个资源）：</p>
<p>将信号量S的值加1，即S = S + 1<br>如果S &gt; 0，该进程继续执行，否则表示在等待队列中有某些进程正在等待该资源，需要唤醒等待</p>
<h3 id="2-5-前趋图"><a href="#2-5-前趋图" class="headerlink" title="2.5 前趋图"></a>2.5 前趋图</h3><p>前趋图是一个有向无循环图，由节点和有向边组成，节点代表各程序段的操作，而节点间的有向边表示两个程序段操作之间存在的前趋关系。用这种图可以描述多个程序或进程之间的执行顺序关系。</p>
<p>前趋图标记规则：从小到大，节点流出的都是V操作，流入的都是P操作，箭线代表一个信号量S。</p>
<h3 id="2-6-死锁"><a href="#2-6-死锁" class="headerlink" title="2.6 死锁"></a>2.6 死锁</h3><p>进程管理是操作系统的核心，但如果设计不当，就会出现死锁的问题。如果一个进程在等待一件不可能发生的事，则进程就死锁了。而如果一个或多个进程产生死锁，就会造成系统死锁。</p>
<blockquote>
<p>死锁的四个条件：互斥，环路等待，保持和等待，不可剥夺</p>
</blockquote>
<p><strong>如何预防死锁：顺序资源分配（有序资源分配法），银行家算法。</strong></p>
<h3 id="2-7-银行家算法"><a href="#2-7-银行家算法" class="headerlink" title="2.7 银行家算法"></a>2.7 银行家算法</h3><p><strong>银行家算法分配资源的原则：</strong></p>
<p>（1）当一个进程对资源的最大需求量不超过系统中的资源数时，可以接纳该进程<br>（2）进程可以分期请求资源，但请求的总数不能超过最大需求量<br>（3）当系统现有的资源不能满足进程尚需资源数时，对进程的请求可以推迟分配，但总能使进程在有限的时间里得到资源。</p>
<h2 id="3-存储管理"><a href="#3-存储管理" class="headerlink" title="3 存储管理"></a>3 存储管理</h2><h3 id="3-1-逻辑地址与物理地址"><a href="#3-1-逻辑地址与物理地址" class="headerlink" title="3.1 逻辑地址与物理地址"></a>3.1 逻辑地址与物理地址</h3><p>逻辑地址 相对地址，CPU所生成的地址，逻辑地址是内部和编程使用的、地址不唯一<br>物理地址 绝对地址，加载到内存地址寄存器中的地址，内存单元的真正地址<br>地址重定位，将程序中的虚拟地址（逻辑地址）变换成内存的真实地址（物理地址）的过程</p>
<h3 id="3-2-类型"><a href="#3-2-类型" class="headerlink" title="3.2 类型"></a>3.2 类型</h3><p>存储管理的主要目的是解决多个用户使用主存的问题，其存储管理方案主要包括分区存储管理、分页存储管理、分段存储管理、段页式存储管理以及虚拟存储管理。</p>
<h3 id="3-3-分区存储（连续空间）"><a href="#3-3-分区存储（连续空间）" class="headerlink" title="3.3 分区存储（连续空间）"></a>3.3 分区存储（连续空间）</h3><p>分区存储管理，把主存的用户区划分成若干个区域，每个区域分配给一个用户作业使用，并限定它们只能在自己的区域中运行。</p>
<h3 id="3-4-页式存储-分页存储（非连续空间）"><a href="#3-4-页式存储-分页存储（非连续空间）" class="headerlink" title="3.4 页式存储/分页存储（非连续空间）"></a>3.4 页式存储/分页存储（非连续空间）</h3><p>页式存储 == 分页存储</p>
<p>将一个进程（程序）的地址空间划分成若干个大小相等的区域，称为页。</p>
<p>相应地，将主存（内存）空间划分成与页相同大小的若干个物理块，称为块或页框。</p>
<p>在为进程分配主存时，将进程中若干页分别装入多个不相邻接的块中。</p>
<p>优点：利用率高,碎片小，分配及管理简单。</p>
<p>缺点：增加了系统开销;可能产生抖动现象。</p>
<p>页式存储主要考察，逻辑地址转换物理地址，注意各个进制的简便算法</p>
<h3 id="3-5-段式存储-分段存储（非连续空间）"><a href="#3-5-段式存储-分段存储（非连续空间）" class="headerlink" title="3.5 段式存储/分段存储（非连续空间）"></a>3.5 段式存储/分段存储（非连续空间）</h3><p>段式存储 == 分段存储</p>
<p>分段式存储管理系统中，为每个段分配一个连续的分区，而进程中的各个段可以离散地分配到主存的不同分区中。</p>
<p>在系统中为每个进程建立一张段映射表，简称为“段表”。每个段在表中占有一个表项，在其中记录了该段在主存中的起始地址（又称为“基址”）和段的长度。进程在执行时，通过査段表来找到每个段所对应的主存区。</p>
<p>段式存储：按用户作业中的自然段来划分逻辑空间，然后调入内存，段的长度可以不一样。</p>
<p>优点：多道程序共享内存，各段程序修改互不影响。</p>
<p>缺点：内存利用率低，内存碎片浪费大。</p>
<p>段式存储主要考察，主要判断逻辑地址是否合法（段号 + 偏移量），偏移量不能超过段长</p>
<h3 id="3-6-段页式存储管理（非连续空间）"><a href="#3-6-段页式存储管理（非连续空间）" class="headerlink" title="3.6 段页式存储管理（非连续空间）"></a>3.6 段页式存储管理（非连续空间）</h3><p>段页式系统的基本原理是先将整个主存划分成大小相等的存储块（页框），将用户程序按程序的逻辑关系分为若干个段，并为每个段赋予一个段名，再将每个段划分成若干页，以页框为单位离散分配。在段页式系统中，其地址结构由段号、段内页号和页内地址三部分组成。</p>
<p>段页式存储:段式与页式的综合体。先分段，再分页。1个程序有若干个段，每个段中可以有若干页，每个页的大小相同，但每个段的大小不同。</p>
<p>优点：空间浪费小、存储共享容易、存储保护容易、能动态连接。</p>
<p>缺点：由于管理软件的增加，复杂性和开销也随之增加，需要的硬件以及占用的内容也有所增加,使得执行速度大大下降。</p>
<h3 id="3-7-快表"><a href="#3-7-快表" class="headerlink" title="3.7 快表"></a>3.7 快表</h3><p>快表是一块小容量的相联存储器（Associative Memory），由高速缓存器组成，速度快，并且可以从硬件上保证按内容并行查找，一般用来存放当前访问最频繁的少数活动页面的页号。</p>
<p>快表：将页表存于Cache上；慢表：将页表存于内存上。</p>
<h3 id="3-8-虚拟存储管理"><a href="#3-8-虚拟存储管理" class="headerlink" title="3.8 虚拟存储管理"></a>3.8 虚拟存储管理</h3><p>在前面介绍的存储管理方案中，必须为每个作业分配足够的空间，以便装入全部信息。当主存空间不能满足作业要求时，作业无法装入主存执行。如果一个作业只部分装入主存便可开始启动运行.其余部分暂时留在磁盘上，在需要时再装入主存，这样可以有效地利用主存空间。从用户角度看，该系统所具有的主存容量将比实际主存容量大得多，人们把这样的存储器称为虚拟存储器。</p>
<h3 id="3-9-页面置换算法"><a href="#3-9-页面置换算法" class="headerlink" title="3.9 页面置换算法"></a>3.9 页面置换算法</h3><ol>
<li>最优置换算法OPT</li>
<li>随机淘汰算法RAND</li>
<li>先进先出算法FIFO， 可能“抖动”</li>
<li>最近最久未使用算法LRU，不会“抖动” 利用理论依据“局部性原理”，淘汰最后被访问时间最久的元素</li>
<li>最不经常使用页置换LFU，淘汰最近访问频率最小的元素</li>
<li>时钟页面替换算法， 轮转算法，最近没有使用页面置换算法NUR</li>
</ol>
<h2 id="4-文件管理"><a href="#4-文件管理" class="headerlink" title="4 文件管理"></a>4 文件管理</h2><h3 id="4-1-索引文件结构"><a href="#4-1-索引文件结构" class="headerlink" title="4.1 索引文件结构"></a>4.1 索引文件结构</h3><p>文件在逻辑上一定是连续的，在物理上可以是分散的。</p>
<p>文件的逻辑结构，方便用户使用；文件的物理结构，在物理设备的存放方式。</p>
<p>此部分经常考察逻辑号与物理号的计算转换，采取的具体什么类型索引，计算文件长度等等</p>
<p><strong>直接索引范围</strong> ：索引块数量 * 索引块大小</p>
<p><strong>一级间接索引范围</strong> ：（磁盘数据块(物理盘块)大小 / 地址项大小）* 索引块大小</p>
<p><strong>二级间接索引范围</strong> ：（磁盘数据块(物理盘块)大小 / 地址项大小）的2次方 * 索引块大小</p>
<p><strong>三级间接索引范围</strong> ：（磁盘数据块(物理盘块)大小 / 地址项大小）的3次方 * 索引块大小</p>
<h3 id="4-2-卫示图"><a href="#4-2-卫示图" class="headerlink" title="4.2 卫示图"></a>4.2 卫示图</h3><p><strong>位示图法</strong> ：该方法是在外存上建立一张位示图（Bitmap），记录文件存储器的使用情况。每一位仅对应文件存储器上的一个物理块，取值0和1分别表示空闲和占用。</p>
<p><img src="/image/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/5.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="4-3-树形目录结构"><a href="#4-3-树形目录结构" class="headerlink" title="4.3 树形目录结构"></a>4.3 树形目录结构</h3><p><img src="/image/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/6.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="5-设备管理"><a href="#5-设备管理" class="headerlink" title="5 设备管理"></a>5 设备管理</h2><h3 id="5-1-数据传输控制方式"><a href="#5-1-数据传输控制方式" class="headerlink" title="5.1 数据传输控制方式"></a>5.1 数据传输控制方式</h3><p><strong>从上往下CPU的工作量越来越少，效率从上往下越来越高。</strong></p>
<ol>
<li>程序控制方式【CPU与I/O的串行工作 】： 分为无条件传送和程序查询方式两种。方法简单，硬件开销小，但I/O能力不高，严重影响CPU的利用率。程序查询方式，CPU必须不停的测试I/O设备的状态端口 。</li>
<li>程序中断方式【CPU与I/O的并行工作 】：<br> 与程序控制方式相比，中断方式因为CPU无需等待而提高了传输请求的响应速度。CPU通过调用中断控制设备获得设备状态，设备通过中断通知CPU状态改变、获得数据等。中断结束后CPU会继续执行之前的程序。</li>
<li>DMA（直接内存存取）【CPU与I/O的并行工作 】：<br> 为了在主存和外设之间实现高速，批量数据交换而设置的。DMA方式比程序控制方式与中断方式都高效。DMA控制器与内存直接进行批量数据交换，CPU只控制开始和结束，传输过程无需CPU干预。<br> DMA硬件直接完成，无需CPU做任何干涉，适合快速I/O设备，且在CPU一个总线结束后相应DMA 。</li>
<li>通道方式【CPU与I/O的并行工作 】：<br> 主机中有专门的通道处理器，CPU干预更少，有对应的通道程序和通道状态字保存在内存中，CPU向通道处理器发出启动指令即可不管，通道处理器执行通道程序控制设备传输完所有数据之后发起一个中断交给CPU处理，设备挂接在通道上。</li>
<li>输入输出处理机（IOP）【CPU与I/O的并行工作 】：<br> 一个独立的系统，有自己的内存、指令熊、中断，专用于大型高效系统的输入输出设备控制，利用共享存储器等与主机交换信息。输入输出处理机中可能有多个通道连接设备。</li>
</ol>
<h3 id="5-2-I-O管理软件"><a href="#5-2-I-O管理软件" class="headerlink" title="5.2 I/O管理软件"></a>5.2 I/O管理软件</h3><ul>
<li>硬件，完成具体的I/O操作。</li>
<li>中断处理程序:，I/O完成后唤醒设备驱动程序</li>
<li>设备驱动程序，设置寄存器，检查设备状态</li>
<li>设备无关I/O层，设备名解析、阻塞进程、分配缓冲区</li>
<li>用户级I/O层（用户进程），发出I/O调用。</li>
</ul>
<h2 id="6-SPOOLing技术"><a href="#6-SPOOLing技术" class="headerlink" title="6 SPOOLing技术"></a>6 SPOOLing技术</h2><p>SPOOLing是Simultaneous Peripheral Operation On-Line （即外部设备联机并行操作）的缩写，它是关于慢速字符设备如何与计算机主机交换信息的一种技术，通常称为”假脱机技术”。</p>
<p><strong>SPOOLing技术（虚拟输入输出设备常用到的技术）先放入到磁盘缓冲区，再放入到设备区，它是在磁盘上开辟响应的区域，所以缓冲区是外存。SPOOLing技术将一台独享打印机改造为可供多个用户共享的打印机。</strong></p>
<p><strong>SPOOLing技术特点：</strong></p>
<p>（1）输入井和输出井，在磁盘上开辟出来的两个存储区域，用于存放I/O设备输入的数据和用户程序向设备输出的数据<br>（2）输入缓存区和输出缓冲区，在内存中开辟的两个缓冲区。输入缓冲区用户暂存输入设备送来的数据，再送入输入井；输出缓冲区暂存从输出井送来的数据，再传送到输出设备<br>（3）输入进程和输出京城，负责传输输入输出的数据<br>（4）提高了I/O速度，通过对输入井和输出井的操作，缓和了主机和外设速度不匹配的矛盾<br>（5）设备没有直接和用户进程关联<br>（6）实现虚拟设备，多个进程同时使用一个逻辑设备，每个进程都认为自己独占了设备</p>
<h2 id="7-微内核"><a href="#7-微内核" class="headerlink" title="7 微内核"></a>7 微内核</h2><p>微内核就是对操作系统进行瘦身，只保留最为基本的功能。普通的操作系统内核包括了进程，存储，设备，文件，任务管理五个部分，而在微内核操作系统中，已对其进行了裁剪，文件系统，通信，外设管理都放到操作系统之外去处理了。</p>
<p>现代操作系统大多拥有两种工作状态，分别是核心态和用户态。一般应用程序工作在用户态，而内核模块和最基本的操作系统核心工作在核心态。因为在微内核中，核心态功能少了，很多原本属于操作系统的操作放到了用户态去实施了。</p>
<p>微内核系统的安全性，可靠性得到了提升。微内核操作系统在分布式中有着广泛的应用，它也成为了微内核操作系统的最大优势。</p>
<p>当然微内核操作系统中，一个任务需要不断的在用户态和核心态直接切换来完成，频繁地切换效率自然不会很高。</p>
<p>将传统的操作系统代码放置到更高层，从操作系统中去掉尽可能多的东西，而只留下最小的核心，称之为微内核(C/S结构)。</p>
<table>
<thead>
<tr>
<th></th>
<th>实质</th>
<th>优点</th>
<th>缺点</th>
</tr>
</thead>
<tbody><tr>
<td>单体内核</td>
<td>将图形、设备驱动及文件系统等功能全部在内核中实现，运行在内核状态和同一地址空间</td>
<td>减少进程间通信和状态切换的系统开销，获得较高的运行效率</td>
<td>内核庞大，占用资源较多且不易剪裁、系统的稳定性和安全性不好</td>
</tr>
<tr>
<td>微内核</td>
<td>只实现基本功能，将图形系统、文件系统、设备驱动及通信功能放在内核之外</td>
<td>内核精炼，便于剪裁和移植。系统服务程序运行在用户地址空间，系统的可靠性、稳定性和安全性较高，可用于分布式系统</td>
<td>用户状态和内核状态需要频繁切换，从而导致系统效率不如单体内核</td>
</tr>
</tbody></table>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/" class="category-chain-item">系统架构师</a>
  
  
    <span>></span>
    
  <a href="/categories/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E5%9F%BA%E7%A1%80%E6%8A%80%E8%83%BD/" class="category-chain-item">基础技能</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/">#系统架构师</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>操作系统</div>
      <div>http://www.zivjie.cn/2023/07/01/系统架构设计师/基础技能/操作系统/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Francis</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年7月1日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/07/01/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/MySQL%E6%9E%B6%E6%9E%84/" title="MySQL架构">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">MySQL架构</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/07/01/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88/%E5%9F%BA%E7%A1%80%E6%8A%80%E8%83%BD/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E7%BB%93%E6%9E%84/" title="计算机组成与结构">
                        <span class="hidden-mobile">计算机组成与结构</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
