

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Francis">
  <meta name="keywords" content="">
  
    <meta name="description" content="1 SOA相关概念1.1 SOA的定义从软件的基本原理定义，可以认为SOA是一个组件模型，它将应用程序的不同功能单元（称为服务）通过这些服务之间定义良好的 需接口和契约 联系起来。接口是采用中立的方式进行定义的，它应该独立与实现服务的硬件平台、操作系统和编程语言。这使得构建在各种这样的系统中的服务可以一种统一和通用的方式进行交互。   1.2 业务流程与业务流程执行语言业务流程与业务流程执行语言（">
<meta property="og:type" content="article">
<meta property="og:title" content="面向服务架构设计理论与实践">
<meta property="og:url" content="http://www.zivjie.cn/2023/07/22/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%90%86%E8%AE%BA%E5%92%8C%E5%AE%9E%E8%B7%B5/%E9%9D%A2%E5%90%91%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/index.html">
<meta property="og:site_name" content="Francis-Blog">
<meta property="og:description" content="1 SOA相关概念1.1 SOA的定义从软件的基本原理定义，可以认为SOA是一个组件模型，它将应用程序的不同功能单元（称为服务）通过这些服务之间定义良好的 需接口和契约 联系起来。接口是采用中立的方式进行定义的，它应该独立与实现服务的硬件平台、操作系统和编程语言。这使得构建在各种这样的系统中的服务可以一种统一和通用的方式进行交互。   1.2 业务流程与业务流程执行语言业务流程与业务流程执行语言（">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.zivjie.cn/img/floating.png">
<meta property="article:published_time" content="2023-07-21T23:40:00.000Z">
<meta property="article:modified_time" content="2023-10-08T01:32:52.814Z">
<meta property="article:author" content="Francis">
<meta property="article:tag" content="系统架构师">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://www.zivjie.cn/img/floating.png">
  
  
  
  <title>面向服务架构设计理论与实践 - Francis-Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"www.zivjie.cn","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Francis</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="面向服务架构设计理论与实践"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-07-22 07:40" pubdate>
          2023年7月22日 早上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          4.8k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          40 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">面向服务架构设计理论与实践</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="1-SOA相关概念"><a href="#1-SOA相关概念" class="headerlink" title="1 SOA相关概念"></a>1 SOA相关概念</h2><h3 id="1-1-SOA的定义"><a href="#1-1-SOA的定义" class="headerlink" title="1.1 SOA的定义"></a>1.1 SOA的定义</h3><p>从软件的基本原理定义，可以认为SOA是一个组件模型，它将应用程序的不同功能单元（称为服务）通过这些服务之间定义良好的 需接口和契约 联系起来。接口是采用中立的方式进行定义的，它应该独立与实现服务的硬件平台、操作系统和编程语言。这使得构建在各种这样的系统中的服务可以一种统一和通用的方式进行交互。</p>
<p><img src="/image/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E7%90%86%E8%AE%BA%E4%B8%8E%E5%AE%9E%E8%B7%B5/%E9%9D%A2%E5%90%91%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/1.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/image/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E7%90%86%E8%AE%BA%E4%B8%8E%E5%AE%9E%E8%B7%B5/%E9%9D%A2%E5%90%91%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/2.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="1-2-业务流程与业务流程执行语言"><a href="#1-2-业务流程与业务流程执行语言" class="headerlink" title="1.2 业务流程与业务流程执行语言"></a>1.2 业务流程与业务流程执行语言</h3><p><strong>业务流程与业务流程执行语言（Business Process Execution Language，BPEL）</strong> 。业务流程是指为了实现某种业务目的行为所进行的流程或一系列动作。使用BPEL，用户可以通过组合、编排和协调Web服务自上而下地实现面向服务的体系结构。BPEL目前用于整合现有的Web Services，将现有的Web Service按照要求的业务流程整理成为一个新的Web Service，在这个基础上，形成一个从外界看来和单个Service一样的Service。</p>
<h2 id="2-SOA的发展史"><a href="#2-SOA的发展史" class="headerlink" title="2 SOA的发展史"></a>2 SOA的发展史</h2><p>（1） 萌芽阶段 ：这种广泛使用XML，允许组织定义文档的元数据，实现企业内部和企业之间的电子数据交换，规定了服务之间以及服务内部数据交换的格式和结构。</p>
<p>（2） 标准化阶段 ：国际标准和规范 - 简单对象访问协议（Simple Objec Access Protocol，SOAP）、Web服务描述语言（Web Service Description，UDDI）。</p>
<p>（3） 成熟阶段 ：3个重量级规范 - SCA、SDO、WS-Policy。SCA和SDO构成了SOA编程模型的基础，而WS-Policy建立了SOA组件之间安全交互的规范。</p>
<h2 id="3-SOA与微服务的区别"><a href="#3-SOA与微服务的区别" class="headerlink" title="3 SOA与微服务的区别"></a>3 SOA与微服务的区别</h2><p>（1） 微服务相比于SOA更加精细，微服务更多地以独立的进程的方式存在，相互之间并无影响。</p>
<p>（2） 微服务提供的接口方式更加通用化，例如HTTP Restful方式，各种终端都可以调用，无关语言、平台限制。</p>
<p>（3） 微服务更倾向于分布式去中心化的部署方式，在互联网业务场景下更适合。</p>
<p><img src="/image/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E7%90%86%E8%AE%BA%E4%B8%8E%E5%AE%9E%E8%B7%B5/%E9%9D%A2%E5%90%91%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/3.png" srcset="/img/loading.gif" lazyload></p>
<table>
<thead>
<tr>
<th>微服务</th>
<th>SOA</th>
</tr>
</thead>
<tbody><tr>
<td>能拆分的就拆分</td>
<td>是整体的，能放一起的都放一起</td>
</tr>
<tr>
<td>纵向业务划分</td>
<td>水平分多层</td>
</tr>
<tr>
<td>由单一组织负责</td>
<td>按层级划分不同部门的组织负责</td>
</tr>
<tr>
<td>细粒度</td>
<td>粗粒度</td>
</tr>
<tr>
<td>两句话可以解释明白</td>
<td>几百字只相当于SOA的目录</td>
</tr>
<tr>
<td>独立的子公司</td>
<td>类似大公司里面划分了一些业务单元（BU）</td>
</tr>
<tr>
<td>组件小</td>
<td>存在较复杂的组件</td>
</tr>
<tr>
<td>业务逻辑存在于每一个服务中</td>
<td>业务逻辑横跨多个业务领域</td>
</tr>
<tr>
<td>使用轻量级的通过方式，如HTTP</td>
<td>企业服务总线（ESB）充当了服务之间通信的角色</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>微服务架构实现</th>
<th>SOA实现</th>
</tr>
</thead>
<tbody><tr>
<td>团队级，自底向上开展实施</td>
<td>企业级，自顶向下开展实施</td>
</tr>
<tr>
<td>一个系统被拆分成多个服务，粒度细</td>
<td>服务由多个子系统组成，粒度大</td>
</tr>
<tr>
<td>无集中式总线，松散的服务架构</td>
<td>企业服务总线，集中式的服务架构</td>
</tr>
<tr>
<td>集成方式简单（HTTP/REST/JSON）</td>
<td>集成方式复杂（ESB/WS/SOAP）</td>
</tr>
<tr>
<td>服务能独立部署</td>
<td>单块架构系统，相互依赖，部署复杂</td>
</tr>
</tbody></table>
<h2 id="4-SOA的参考架构"><a href="#4-SOA的参考架构" class="headerlink" title="4 SOA的参考架构"></a>4 SOA的参考架构</h2><p>IBM的Websphere业务集成参考架构是典型的以服务为中心的企业集成架构，它可划分为6大类：</p>
<p>（1） 业务逻辑服务（Business Logic Service）。<br>（2） 控制服务（Control Service）。<br>（3） 连接服务（Connectivity Service）。<br>（4） 业务创新和优化服务（Business Innovation and Optimization Service）。<br>（5） 开发服务（Development Service）。<br>（6） IT服务管理（IT Service Management）。</p>
<h2 id="5-SOA的主要协议规范"><a href="#5-SOA的主要协议规范" class="headerlink" title="5 SOA的主要协议规范"></a>5 SOA的主要协议规范</h2><p><img src="/image/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E7%90%86%E8%AE%BA%E4%B8%8E%E5%AE%9E%E8%B7%B5/%E9%9D%A2%E5%90%91%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/5.png" srcset="/img/loading.gif" lazyload></p>
<p>（1） UDDI协议 ：统一描述、发现和集成协议。包含了服务描述与发现的标准规范，它使得商业实体能够彼此发现；定义它们怎样在Internet上相互作用，并在一个全球的注册体系架构中共享信息。</p>
<p>（2） Web服务描述语言（Web Service Description Language, WSDL） :WSDL是一个用来描述Web服务和说明如何与Web服务通信的XML语言。描述了Web服务的3个基本属性：</p>
<blockquote>
<p>服务做些什么 - 服务所提供的操作（方法）。<br>如何访问服务 - 和服务交互的数据格式以及必要协议。<br>服务位于何处 - 协议相关的地址，如URL。</p>
</blockquote>
<p>（3） SOAP协议 ：SOAP是在分散或分布式的环境中交换信息的简单协议，是一个基于XML的协议。<br>（4） REST规范 ：为了让不同的软件或者应用程序在任何网络环境下都可以进行信息的互相传递。微服务对外就是以REST API的形式暴露给调用者。RESTful即REST形式的，是对遵循REST设计思想同时满足设计约束的一类架构设计或应用程序的统称，这一类都可称为RESTful，可以理解为资源表述性状态转移：</p>
<blockquote>
<p>资源 ：将在互联网中一切暴露给客户端的事务都可以看做是一种资源。<br>表述 ：REST中用表述描述资源在Web中某一个时间的状态。<br>状态转移 ：分为两种，<br>应用状态 - 对某个时间内用户请求会话相关信息的快照，保存在客户端。<br>资源状态 - 在服务端保存，是对某个时间资源请求表述的快照。<br>超链接 ： 通过在页面中嵌入链接和其他资源建立联系。</p>
</blockquote>
<h2 id="6-SOA的设计标准要求"><a href="#6-SOA的设计标准要求" class="headerlink" title="6 SOA的设计标准要求"></a>6 SOA的设计标准要求</h2><p><strong>（1） 文档标准化。</strong><br>SOA服务具有平台独立的自我描述XML文档。Web服务描述语言是用于描述服务的标准语言。</p>
<p><strong>（2） 通信协议标准。</strong><br>SOA服务用消息进行通信，该消息通常使用XML Schema来定义（也称作XML schema Definition，XSD）。<br><strong>（3） 应用程序统一登记与集成。</strong><br>在一个企业内部，SOA服务通过一个扮演目录列表（Director Listing）角色的登记（Registry）来进行维护。应用程序在登记处（Registry）寻找并调用某项服务。统一描述、定义和集成是服务登记的标准。<br><strong>（4） 服务质量（Qos）。主要包括：</strong></p>
<blockquote>
<ol>
<li>可靠性：服务消费者和服务提供者之间传输文档时的传输特性（且仅仅传送一次、最多传送一次、重复消息过滤、保证消息传送）</li>
<li>安全性：Web服务安全规范用来保证消息的安全性。</li>
<li>策略：服务提供者有时候会要求服务消费者与某种策略通信。例如，服务提供商可能会要求消费者提供Kerberos安全标示才能取得某项服务。</li>
<li>控制：在SOA中，进程是使用一组离散的服务创建的。BPEL4WS或者WSBPEL（Web Service Business Process Execution Language）是用来控制这些服务的语言。</li>
<li>管理：针对运行在多种环境下的所有服务，必须有一个统一管理系统，以便系统管理员能够有效管理。任何根据WSDM实现的服务都可以由一个WSDM适应（WSDM-companyliant）的管理方案来管理。</li>
</ol>
</blockquote>
<h2 id="7-SOA的作用与设计原则"><a href="#7-SOA的作用与设计原则" class="headerlink" title="7 SOA的作用与设计原则"></a>7 SOA的作用与设计原则</h2><p>（1） SOA的主要作用：打破信息孤岛，把应用和资源转换成服务。以及把这些服务变成标准的服务，形成资源的共享。<br>（2） SOA的设计原则 主要有：</p>
<ol>
<li><strong>无状态 。</strong>以避免服务请求者依赖于服务提供者的状态。</li>
<li><strong>单一实例</strong> 。以高内聚的实现方法，来避免功能冗余。</li>
<li><strong>明确定义的接口</strong> 。服务的接口由WSDL定义，用于指明服务的公共接口与其内部专用实现之间的界限。</li>
<li><strong>自包含和模块化</strong> 。服务封装了那些在业务上稳定、重复出现的活动和组件，实现服务的功能实体是完全独立自主的，独立进行部署、版本控制、自我管理和恢复。</li>
<li><strong>粗粒度</strong> 。服务数量不应该太大，依靠消息交互而不是远程过程调用（Remote Procedure Call，RPC），通常消息量较大，但是服务之间的交互频度较低。</li>
<li><strong>服务之间的松耦合性</strong> 。服务使用者看到的是服务的接口，其位置、实现技术和当前状态等对使用者是不可见的，服务私有数据对服务使用者是不可见的。</li>
<li><strong>互操作性、兼容和策略声明</strong> 。为了确保服务规约的全面和明确，利用策略来定义可配置的互操作语义，来描述特定服务的期望、控制其行为。利用策略声明确保服务期望和语义兼容性方面的完整和明确。</li>
</ol>
<h2 id="8-SOA的设计模式"><a href="#8-SOA的设计模式" class="headerlink" title="8 SOA的设计模式"></a>8 SOA的设计模式</h2><h3 id="8-1-服务注册表模式"><a href="#8-1-服务注册表模式" class="headerlink" title="8.1 服务注册表模式"></a>8.1 服务注册表模式</h3><p>服务注册表支持驱动SOA治理的服务合同、策略和元数据的开发、发布和管理。<br>（1） 服务注册 ：应用开发者，也叫服务提供者，向注册表公布它们的功能。<br>（2） 服务位置 ：也就是服务应用的开发者，帮助他们查询注册服务，寻找符合自身要求的服务。<br>（3） 服务绑定 ：服务的消费者利用检索到的服务合同来开发代码，开发的代码与注册的服务绑定、调用注册的服务以及它们实现互动。</p>
<h3 id="8-2-企业服务总线模式（EBS）"><a href="#8-2-企业服务总线模式（EBS）" class="headerlink" title="8.2 企业服务总线模式（EBS）"></a>8.2 企业服务总线模式（EBS）</h3><p>企业服务总线模式提供一种标准的软件底层架构，各种程序组件能够以服务单元的方式“插入”到该平台上运行，并且组件之间能够以标准的消息通信方式来进行交互。其核心功能如下：</p>
<p>（1）提供位置透明性的消息路由和寻址服务。程序组件之间无须关注对方的路由和寻址。<br>（2）提供服务注册和命名的管理功能。<br>（3）支持多种消息传递规范（如请求 / 响应、发布订阅）。<br>（4）支持多种可以广泛使用的传输协议。<br>（5）支持多种数据格式及其相互转换。<br>（6）提供日志和监控功能</p>
<p><img src="/image/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E7%90%86%E8%AE%BA%E4%B8%8E%E5%AE%9E%E8%B7%B5/%E9%9D%A2%E5%90%91%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84/6.png" srcset="/img/loading.gif" lazyload></p>
<h3 id="8-3-微服务模式"><a href="#8-3-微服务模式" class="headerlink" title="8.3 微服务模式"></a>8.3 微服务模式</h3><p>微服务架构 将 一个大型的单个应用或服务拆分成多个微服务，可扩展单个组件而不是整个应用程序堆栈，从而满足服务等级协议。微服务架构围绕业务领域将服务进行拆分，每个服务可以独立进行开发、管理和迭代，彼此之间使用统一接口进行交流，实现了在分散组件中的部署、管理与服务功能，使产品交付变得更加简单，从而达到有效拆分应用，实现敏捷开发与部署的目的。 微服务模式的特点如下：<br>（1） 复杂应用解耦 ：微服务架构将单一模块应用分解为多个微服务，同时保持总体功能不变。<br>（2） 独立 ：微服务在系统软件生命周期中是独立开发、测试及部署的。<br>（3） 技术选型灵活 ：微服务架构下系统应用的技术选型是去中心化的，每个开发团队可根据自身应用的业务需求发展状况选择合适的体系架构与技术。<br>（4） 容错 ：各个微服务相互独立，故障会被隔离在单个服务中，并且系统其他微服务可以通过重试、平稳退化等机制实现应用层的容错，从而提高系统应用的容错性。<br>（5） 松耦合，易扩展 ：微服务架构中每个服务之间都是松耦合的，可以根据实际需求实现独立扩展，体现微服务架构的灵活性。单体应用架构与微服务架构的，示意图如下：</p>
<h3 id="8-4-微服务架构模式方案"><a href="#8-4-微服务架构模式方案" class="headerlink" title="8.4 微服务架构模式方案"></a>8.4 微服务架构模式方案</h3><p>微服务架构模式 方案主要包括：<br>（1） 聚合器微服务 ：聚合器充当流程指挥者，调用多个微服务实现系统应用程序所需功能。<br>（2） 链式微服务 ：客户端或服务器在收到请求后，会发生多个服务间的嵌套递归调用，返回经过处理的响应。<br>（3） 数据共享微服务 ：该模式适用于在单体架构应用到微服务架构的过渡阶段，服务之间允许存在强耦合关系，例如存在多个微服务共享缓存与数据库存储的现象。<br>（4） 异步消息传递微服务 ：对于一些不必要以同步方式运行的业务逻辑，可以使用消息队列代替REST实现请求、响应，加快服务调用的响应速度。</p>
<h3 id="8-5-微服务架构面临的问题和挑战"><a href="#8-5-微服务架构面临的问题和挑战" class="headerlink" title="8.5 微服务架构面临的问题和挑战"></a>8.5 微服务架构面临的问题和挑战</h3><p>（1） <strong>服务发现与服务调用链跟踪变得困难。</strong><br>（2） <strong>很难实现传统数据库的强一致性，转而追求最终一致性。</strong></p>
<h2 id="9-构建SOA架构时应该注意的问题"><a href="#9-构建SOA架构时应该注意的问题" class="headerlink" title="9 构建SOA架构时应该注意的问题"></a>9 构建SOA架构时应该注意的问题</h2><p>（1） 原有系统架构中的集成需求 包括：应用程序集成的需求、终端用户界面集成的需求、流程集成的需求以及已有系统信息集成的需求。</p>
<p>（2） 服务粒度的控制以及无状态服务的设计 的表述如下：</p>
<blockquote>
<ol>
<li>服务粒度的控制 ：对于将暴露在整个系统外部的服务推荐使用粗粒度的接口，而相对较细粒度的服务接口通常用于企业系统架构的内部。</li>
<li>无状态服务的设计 ：SOA系统架构中的具体服务应该都是独自的、自包含的请求，在实现这些服务的时候不需要前一个请求的状态，也就是说服务不应该依赖于其他服务的上下文和状态，即SOA架构中的服务应该是无状态的服务。</li>
</ol>
</blockquote>
<h2 id="10-SOA实施过程"><a href="#10-SOA实施过程" class="headerlink" title="10 SOA实施过程"></a>10 SOA实施过程</h2><p>（1） 选择SOA解决方案 主要从以下3个方面进行：</p>
<ol>
<li>尽量选择能进行全局规划的方案。</li>
<li>选择时充分考虑企业自身的需求。</li>
<li>从平台、实施等技术方面进行考察。</li>
</ol>
<p>（2） 业务流程分析 主要关注：</p>
<ol>
<li>建立服务模型：</li>
<li>自顶向下分解法、业务目标分析法、自底向上分析法。</li>
<li>建立业务流程：</li>
<li>建立业务对象（实体、过程、事件等业务对象）、建立服务接口、建立服务流程。</li>
</ol>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/" class="category-chain-item">系统架构师</a>
  
  
    <span>></span>
    
  <a href="/categories/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/%E7%90%86%E8%AE%BA%E5%92%8C%E5%AE%9E%E8%B7%B5/" class="category-chain-item">理论和实践</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E5%B8%88/">#系统架构师</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>面向服务架构设计理论与实践</div>
      <div>http://www.zivjie.cn/2023/07/22/系统架构设计师/理论和实践/面向服务架构/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Francis</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年7月22日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/07/22/%E7%B3%BB%E7%BB%9F%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E5%B8%88/%E7%90%86%E8%AE%BA%E5%92%8C%E5%AE%9E%E8%B7%B5/%E5%AE%89%E5%85%A8%E6%9E%B6%E6%9E%84/" title="安全架构设计理论与实践">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">安全架构设计理论与实践</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/07/17/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/MySQL%E5%AE%89%E8%A3%85/" title="MySQL安装">
                        <span class="hidden-mobile">MySQL安装</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
