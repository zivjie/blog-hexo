

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Francis">
  <meta name="keywords" content="">
  
    <meta name="description" content="Prompt 是一种在自然语言处理（NLP）中用于引导语言模型生成特定类型文本的技术。它的基本原理是通过向语言模型提供一个包含任务相关信息的输入文本片段（即 Prompt），利用语言模型在预训练阶段学到的语言知识和模式，引导模型生成符合预期的输出。例如，对于一个文本生成任务，Prompt 可以是一个问题、一个主 题描述或者一个部分完成的句子，模型会根据这个 Prompt 来续写或生成完整的文本。">
<meta property="og:type" content="article">
<meta property="og:title" content="提示词工程">
<meta property="og:url" content="http://www.zivjie.cn/2025/11/09/spring%E6%A1%86%E6%9E%B6/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/index.html">
<meta property="og:site_name" content="Francis-Blog">
<meta property="og:description" content="Prompt 是一种在自然语言处理（NLP）中用于引导语言模型生成特定类型文本的技术。它的基本原理是通过向语言模型提供一个包含任务相关信息的输入文本片段（即 Prompt），利用语言模型在预训练阶段学到的语言知识和模式，引导模型生成符合预期的输出。例如，对于一个文本生成任务，Prompt 可以是一个问题、一个主 题描述或者一个部分完成的句子，模型会根据这个 Prompt 来续写或生成完整的文本。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.zivjie.cn/img/floating.png">
<meta property="article:published_time" content="2025-11-09T01:55:21.000Z">
<meta property="article:modified_time" content="2025-11-11T02:21:41.930Z">
<meta property="article:author" content="Francis">
<meta property="article:tag" content="AI">
<meta property="article:tag" content="LLM">
<meta property="article:tag" content="提示词工程">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://www.zivjie.cn/img/floating.png">
  
  
  
  <title>提示词工程 - Francis-Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"www.zivjie.cn","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Francis</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="提示词工程"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-11-09 09:55" pubdate>
          2025年11月9日 上午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          12k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          99 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">提示词工程</h1>
            
            
              <div class="markdown-body">
                
                <p>Prompt 是一种在自然语言处理（NLP）中用于引导语言模型生成特定类型文本的技术。它的基本原理是通过向语言模型提供一个包含任务相关信息的输入文本片段（即 Prompt），利用语言模型在预训练阶段学到的语言知识和模式，引导模型生成符合预期的输出。例如，对于一个文本生成任务，Prompt 可以是一个问题、一个主 题描述或者一个部分完成的句子，模型会根据这个 Prompt 来续写或生成完整的文本。</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_56438555/article/details/144886517">https://blog.csdn.net/qq_56438555/article/details/144886517</a></p>
<h1 id="1-提示词案例"><a href="#1-提示词案例" class="headerlink" title="1 提示词案例"></a>1 提示词案例</h1><h2 id="1-1-翻译软件"><a href="#1-1-翻译软件" class="headerlink" title="1.1 翻译软件"></a>1.1 翻译软件</h2><p>可以通过提示词的设计让大模型变为翻译工具</p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/1.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="1-2-让Deepseek绘画"><a href="#1-2-让Deepseek绘画" class="headerlink" title="1.2 让Deepseek绘画"></a>1.2 让Deepseek绘画</h2><p>Deepseek本身是没有提供绘画功能的，可以通过提示词的功能增强。让大模型具备生成图片的功能。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ruby">你现在是一个可以进行<span class="hljs-variable constant_">AI</span>图片生成的机器人，等待我给你一些提示，然后发挥你的想象力去完善这幅图片的描述，并转换成英文进行encoded后填充到下面url的占位符(description)中，不要引用生成的markdown或在其周围放置任何代码框，直接显示图片![imagel](https\<span class="hljs-symbol">://image</span>.pollinations.ai/prompt/&#123;description)<span class="hljs-string">?w</span>idth=<span class="hljs-number">1280</span>\&amp;height=<span class="hljs-number">720</span>\&amp;model=flux\&amp;enhance=<span class="hljs-literal">true</span>\&amp;<span class="hljs-keyword">private</span>=<span class="hljs-literal">true</span>\&amp;nologo=<span class="hljs-literal">true</span>\&amp;safe=<span class="hljs-literal">true</span>)生成后给出中文描述。<br></code></pre></td></tr></table></figure>

<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/2.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/3.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/4.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="1-3-生成数据"><a href="#1-3-生成数据" class="headerlink" title="1.3 生成数据"></a>1.3 生成数据</h2><p>还可以通过提示词生成各种的测试数据。简化很多的操作，比如</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">帮我们生成<span class="hljs-number">100</span>条商品信息数据，每条商品信息需要包含 名称 图片链接 价格 供应商<span class="hljs-built_in">id</span> 商品介绍 等<br></code></pre></td></tr></table></figure>

<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/5.png" srcset="/img/loading.gif" lazyload></p>
<p>上面获取到的是json格式的数据。也可以让大模型把数据转换为 insert into 语句的数据，这样更加方便直接使用</p>
<figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs n1ql">把上面的数据转换为 <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> 语句的数据，满足MySQL数据库的插入语句的语法要求<br></code></pre></td></tr></table></figure>

<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/6.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="1-4-代码生成"><a href="#1-4-代码生成" class="headerlink" title="1.4 代码生成"></a>1.4 代码生成</h2><p>很多时候需要通过代码实现各种复杂的功能，这往往会比较耗费时间和精力， 现在也可以通过提示词来让大模型直接生成满足需要的代码。直接拷贝过去就可以了。比如提示词是</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mipsasm">你是一位编程高手，擅长<span class="hljs-keyword">java语言，我现在有这么一个需求，需要查询MySQL数据库中的商品表，也就是上面的products </span>表中的信息，并分别统计出每个供应商的商品有多少<br></code></pre></td></tr></table></figure>

<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/7.png" srcset="/img/loading.gif" lazyload></p>
<h1 id="2-提示词介绍"><a href="#2-提示词介绍" class="headerlink" title="2 提示词介绍"></a>2 提示词介绍</h1><p>分享两个网站：</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.promptingguide.ai/zh/applications/coding">https://www.promptingguide.ai/zh/applications/coding</a></li>
<li><a target="_blank" rel="noopener" href="https://platform.openai.com/docs/guides/prompt-engineering#strategy-write-clear-instructions">https://platform.openai.com/docs/guides/prompt-engineering#strategy-write-clear-instructions</a></li>
</ol>
<p>Prompt 是一种人为构造的输入序列，用于引导 GPT 模型根据先前输入的内容生成相关的输出。简单来说，就是你向模型提供的 “提示词”。在 ChatGpt 中，我们可以通过设计不同的 prompt，让模型生成与之相关的文本。例如，假设我们想让 ChatGpt 担任英语翻译。我们可以给模型提供以下 prompt：</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ruby">我希望你能担任英语翻译、拼写校对和修辞改进的角色。<br>我会用任何语言和你交流，你会识别语言，将其翻译并用更为优美和精炼的英语回答我。<br>请将我简单的词汇和句子替换成更为优美和高雅的表达方式，确保意思不变，但使其更具文学性。<br>请仅回答更正和改进的部分，不要写解释。我的第一句话是“how are you <span class="hljs-string">?，</span>请翻译它。<br></code></pre></td></tr></table></figure>

<p><strong>如何来写好提示词呢</strong></p>
<p><a target="_blank" rel="noopener" href="https://github.com/mattnigh/ChatGPT3-Free-Prompt-List">https://github.com/mattnigh/ChatGPT3-Free-Prompt-List</a></p>
<p>CRISPE Prompt Framework，CRISPE 是首字母的缩写，分别代表以下含义：</p>
<p> CR：Capacity and Role（能力与角色），你希望 ChatGPT 扮演怎样的角色。</p>
<p> I：Insight（洞察），背景信息和上下文。</p>
<p> S：Statement（陈述），你希望 ChatGPT 做什么。</p>
<p> P：Personality（个性），你希望 ChatGPT 以什么风格或方式回答你。</p>
<p> E：Experiment（实验），要求 ChatGPT 为你提供多个答案。 </p>
<p>github 上的那些prompt 角色大全基本都是 CRISPE 框架。</p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/8.png" srcset="/img/loading.gif" lazyload></p>
<p>先定角色，后说背景，再提要求，最后定风格。是否生成多个例子可以看自己喜好。</p>
<p><strong>Prompt = 角色 + 指令 + 期望 + 内容</strong> </p>
<p><strong>Prompt的重要性</strong> </p>
<p>合理使用 prompt 可以为 ChatGpt 带来很多好处。以下是一些例子：</p>
<p>提高生成准确性：通过正确的 prompt 引导，模型能够更好地理解用户的意图， 从而生成更加准确的文本。 </p>
<p>增强自由度：通过多种不同的 prompt，可以让模型生成各种各样的文本，增强了模型的表现力和自由度。 </p>
<p>提高效率：如果已经知道要生成的文本大致内容，通过正确的 prompt 可以让模型更快地生成出想要的结果。</p>
<h1 id="3-Prompt-Engineering最佳实践"><a href="#3-Prompt-Engineering最佳实践" class="headerlink" title="3 Prompt Engineering最佳实践"></a>3 Prompt Engineering最佳实践</h1><p><strong>定义</strong>：Prompt Engineering 是设计和优化输入提示（prompt）以获得预期输出的过程。在与大型语言模型（如 GPT-4）交互时，如何构造提示会显著影响模型的回答质量。</p>
<p><strong>例子：</strong> </p>
<p><strong>~ 简单提示：</strong> “告诉我关于猫的事情。” </p>
<p><strong>~ 优化提示：</strong> “请详细描述猫的生物学特征、行为习惯以及它们在不同文化中的象征意义。”</p>
<p>通过优化提示，用户可以引导模型生成更详细和有用的回答。Prompt Engineering 是设计和优化输入提示以获得预期输出的过程。为了在使用大型语言模型（如 GPT-4）时获得最佳结果，以下是一些最佳实践：</p>
<ol>
<li><p><strong>明确目标</strong></p>
<p><strong>最佳实践：</strong>明确你希望模型完成的任务或回答的问题。</p>
<p><strong>实例：</strong></p>
<ul>
<li><p><strong>目标不明确：</strong>“告诉我关于气候变化的事情。”</p>
</li>
<li><p><strong>目标明确：</strong>“请简要描述气候变化的主要原因及其对农业的影响。”</p>
</li>
</ul>
</li>
<li><p><strong>提供上下文</strong></p>
<p><strong>最佳实践：</strong>为模型提供必要的背景信息或上下文，以帮助其理解任务。</p>
<p><strong>示例：</strong> </p>
<ul>
<li><strong>无上下文：</strong>  “解释一下微积分。” </li>
<li><strong>有上下文：</strong> “作为一名高中生，我正在学习微积分。请用简单的语言解释一下微积分的基本概念。”</li>
</ul>
</li>
<li><p><strong>使用具体的指示</strong></p>
<p><strong>最佳实践：</strong>使用明确的指示和要求，避免模糊不清的提示。</p>
<p><strong>示例：</strong></p>
<ul>
<li><strong>模糊指示：</strong>“写一篇关于技术的文章。”</li>
<li><strong>具体指示：</strong>“请写一篇关于人工智能在医疗领域应用的文章，包含以下几点：应用场景、 优势和挑战。”</li>
</ul>
</li>
<li><p><strong>提供示例</strong></p>
<p><strong>最佳实践：</strong>通过提供示例来展示你期望的输出格式或内容。</p>
<p><strong>示例：</strong></p>
<ul>
<li><strong>无示例：</strong> “生成一个关于产品的报告。”</li>
<li><strong>有示例：</strong> “生成一个关于产品的报告，格式如下：\n\n- 产品名称：\n- 价格：\n- 特 点：\n- 优点：\n- 缺点：”</li>
</ul>
</li>
<li><p><strong>使用分步指示</strong></p>
<p><strong>最佳实践：</strong>对于复杂任务，分解为多个步骤，逐步引导模型完成。</p>
<p><strong>示例：</strong></p>
<ul>
<li><strong>一步完成：</strong> “解释并解决这个数学问题：2x + 3 = 7。”</li>
<li><strong>分步指示：</strong> “首先，解释如何解方程。然后，解方程2x + 3 = 7。”</li>
</ul>
</li>
<li><p><strong>控制输出长度</strong></p>
<p><strong>最佳实践：</strong>通过提示控制输出的长度，确保内容简洁或详细。 </p>
<p><strong>示例：</strong> </p>
<ul>
<li><strong>无长度控制：</strong> “解释一下量子力学。” </li>
<li><strong>有长度控制：</strong> “用不超过100字解释量子力学的基本概念。”</li>
</ul>
</li>
<li><p><strong>使用占位符和模板</strong>  </p>
<p><strong>最佳实践：</strong>使用占位符和模板来指示需要填充的内容或格式。 </p>
<p><strong>示例：</strong> </p>
<ul>
<li><strong>无模板：</strong> “生成一个用户注册表单。” </li>
<li><strong>有模板：</strong> “生成一个用户注册表单，包含以下字段：用户名、密码、邮箱、电话号码。”</li>
</ul>
</li>
<li><p><strong>反复试验和调整</strong>  </p>
<p><strong>最佳实践：</strong>不断试验和调整提示，观察模型的输出，并根据需要进行优化。 </p>
<p><strong>示例：</strong> </p>
<ul>
<li><strong>初始提示：</strong> “描述一下Python编程语言。” </li>
<li><strong>调整提示：</strong> “描述一下Python编程语言的主要特点和常见应用场景。”</li>
</ul>
</li>
<li><p> <strong>指定输出格式</strong>  </p>
</li>
</ol>
<p>   <strong>最佳实践：</strong>明确指定输出格式，确保生成内容符合预期。 </p>
<p>   示例： </p>
<ul>
<li><strong>无格式指定：</strong> “生成一个关于公司财务状况的报告。” </li>
<li><strong>有格式指定：</strong> “生成一个关于公司财务状况的报告，格式如下：\n\n1. 收入：\n2. 支 出：\n3. 净利润：\n4. 财务分析：”</li>
</ul>
<ol start="10">
<li><p><strong>使用多轮对话</strong>  </p>
<p><strong>最佳实践：</strong>在需要时，通过多轮对话逐步引导模型生成所需内容。 </p>
<p><strong>示例：</strong> </p>
<ul>
<li><strong>单轮对话：</strong> “告诉我关于Python编程的所有信息。” </li>
<li><strong>多轮对话：</strong> <ul>
<li><strong>用户：</strong> “告诉我Python编程的主要特点。” </li>
<li><strong>模型：</strong> “Python是一种高级编程语言，具有易读性、广泛的库支持和跨平台兼容 性。” </li>
<li><strong>用户：</strong> “请详细描述Python的常见应用场景。” </li>
<li><strong>模型：</strong> “Python常用于Web开发、数据科学、人工智能、自动化脚本和软件开发。”</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>使用反思和迭代</strong>  </p>
<p><strong>最佳实践：</strong>在生成初步答案后，反思并可能修改其回答，以提高准确性和质量。 </p>
<p><strong>示例：</strong> </p>
<ul>
<li><strong>初步回答：</strong> “Python是一种编程语言。” </li>
<li><strong>反思和修改：</strong> “Python是一种高级编程语言，广泛用于Web开发、数据科学、人工智能等领域，因其易读性和丰富的库支持而受到欢迎。”</li>
</ul>
</li>
</ol>
<h1 id="4-Prompt-Engineering-进阶"><a href="#4-Prompt-Engineering-进阶" class="headerlink" title="4 Prompt Engineering 进阶"></a>4 Prompt Engineering 进阶</h1><p>java代码的封装</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span><br> <span class="hljs-tag">&lt;<span class="hljs-name">project</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag"> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br> 	<span class="hljs-tag">&lt;<span class="hljs-name">modelVersion</span>&gt;</span>4.0.0<span class="hljs-tag">&lt;/<span class="hljs-name">modelVersion</span>&gt;</span><br> 	<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.boge.ai<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br> 	<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>LLMProject<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br> 	<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0-SNAPSHOT<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br> 	<span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span><br> 		<span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.source</span>&gt;</span>17<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.source</span>&gt;</span><br> 		<span class="hljs-tag">&lt;<span class="hljs-name">maven.compiler.target</span>&gt;</span>17<span class="hljs-tag">&lt;/<span class="hljs-name">maven.compiler.target</span>&gt;</span><br> 		<span class="hljs-tag">&lt;<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="hljs-tag">&lt;/<span class="hljs-name">project.build.sourceEncoding</span>&gt;</span><br> 	<span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span><br> 	<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span><br> 		<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br> 			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.squareup.okhttp3<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br> 			<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>okhttp<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br> 			<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.14.9<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br> 		<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br> 		<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br> 			<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jackson-databind<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.15.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.30<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">source</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">source</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">target</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-name">target</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">project</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> com.boge.ai.entity.llm.CompletionResponse;<br><span class="hljs-keyword">import</span> com.fasterxml.jackson.databind.ObjectMapper;<br><span class="hljs-keyword">import</span> okhttp3.*;<br><span class="hljs-keyword">import</span> java.util.concurrent.TimeUnit;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment">* 大模型的工具类</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LLMUtils</span> &#123;<br>   <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">BASE_URL</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;https://api.openaihk.com&quot;</span>;<br>   <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">COMPLETION_URL</span> <span class="hljs-operator">=</span> BASE_URL+<span class="hljs-string">&quot;/v1/chat/completions&quot;</span>;<br>   <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">API_KEY</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;hkw3q3id1xxxxxxxxf1076&quot;</span>;<br>   <span class="hljs-comment">/**</span><br><span class="hljs-comment">    * 文本生成模型接口</span><br><span class="hljs-comment">    * <span class="hljs-doctag">@param</span> prompt</span><br><span class="hljs-comment">    * <span class="hljs-doctag">@param</span> model</span><br><span class="hljs-comment">    * <span class="hljs-doctag">@return</span></span><br><span class="hljs-comment">    */</span><br>   <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">completion</span><span class="hljs-params">(String prompt,String model)</span>&#123;<br>       <span class="hljs-keyword">if</span>(model == <span class="hljs-literal">null</span> || model.isEmpty())&#123;<br>           model = <span class="hljs-string">&quot;gpt-4o&quot;</span>;<br>       &#125;<br>       <span class="hljs-type">OkHttpClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OkHttpClient</span>().newBuilder()<br>               .readTimeout(<span class="hljs-number">20</span>, TimeUnit.SECONDS)<br>               .connectTimeout(<span class="hljs-number">20</span>, TimeUnit.SECONDS)<br>               .build();<br>       <span class="hljs-type">MediaType</span> <span class="hljs-variable">mediaType</span> <span class="hljs-operator">=</span> MediaType.parse(<span class="hljs-string">&quot;application/json&quot;</span>);<br>       <span class="hljs-type">String</span> <span class="hljs-variable">promptMsg</span> <span class="hljs-operator">=</span> String.format(<span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">               &#123;</span><br><span class="hljs-string">                       &quot;model&quot;: &quot;%s&quot;,</span><br><span class="hljs-string">                       &quot;messages&quot;: [</span><br><span class="hljs-string">                           &#123;</span><br><span class="hljs-string">                               &quot;role&quot;: &quot;user&quot;,</span><br><span class="hljs-string">                               &quot;content&quot;: &quot;%s&quot;</span><br><span class="hljs-string">                           &#125;</span><br><span class="hljs-string">                       ]</span><br><span class="hljs-string">               &#125;</span><br><span class="hljs-string">       &quot;&quot;&quot;</span>,model,prompt);<br>       <span class="hljs-type">RequestBody</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> RequestBody.create(mediaType, promptMsg);<br>       <span class="hljs-type">Request</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Request</span>.Builder()<br>               .url(COMPLETION_URL)<br>               .method(<span class="hljs-string">&quot;POST&quot;</span>, body)<br>               .addHeader(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;application/json&quot;</span>)<br>               .addHeader(<span class="hljs-string">&quot;Accept&quot;</span>, <span class="hljs-string">&quot;application/json&quot;</span>)<br>               .addHeader(<span class="hljs-string">&quot;Authorization&quot;</span>, <span class="hljs-string">&quot;Bearer &quot;</span>+API_KEY)<br>               .build();<br>       <span class="hljs-keyword">try</span> &#123;<br>           <span class="hljs-type">Response</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> client.newCall(request).execute();<br>           <span class="hljs-type">ObjectMapper</span> <span class="hljs-variable">mapper</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ObjectMapper</span>();<br>           <span class="hljs-type">String</span> <span class="hljs-variable">json</span> <span class="hljs-operator">=</span> response.body().string();<br>           <span class="hljs-keyword">if</span>(<span class="hljs-string">&quot;gpt-3.5&quot;</span>.equals(model))&#123;<br>               <span class="hljs-keyword">return</span> json;<br>           &#125;<br>		<span class="hljs-comment">// 使用 Jackson 将 JSON 字符串转换为 CompletionResponse 对象</span><br>		<span class="hljs-type">CompletionResponse</span> <span class="hljs-variable">completionResponse</span> <span class="hljs-operator">=</span> mapper.readValue(json, CompletionResponse.class);<br>			<span class="hljs-type">String</span> <span class="hljs-variable">content</span> <span class="hljs-operator">=</span> completionResponse.getChoices().get(<span class="hljs-number">0</span>).getMessage().getContent();<br>			<span class="hljs-keyword">return</span> content;<br>		&#125;<span class="hljs-keyword">catch</span> (Exception e)&#123;<br>			e.printStackTrace();<br>		&#125;<br>		<span class="hljs-keyword">return</span>  <span class="hljs-literal">null</span>;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="4-1-零样本提示"><a href="#4-1-零样本提示" class="headerlink" title="4.1 零样本提示"></a>4.1 零样本提示</h2><p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/9.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>定义：</strong>零样本提示(Zero-shot) 是指模型在没有任何示例的情况下完成任务。模型必须依靠其预训练知识和提示来生成答案。</p>
<p><strong>例子：</strong> </p>
<ul>
<li><strong>提示：</strong> “翻译这句话：’The cat is on the roof.’” </li>
<li><strong>回答：</strong> “猫在屋顶上。” </li>
</ul>
<p>模型没有看到过具体的翻译示例，但仍然能够正确翻译句子。 这种方法的优势是任务通用性高，可以快速应用于各种新任务，而且能够节省训练资源和时间，也不会消耗特别多的Token。但由于没有针对特定任务进行训练，模型只能依靠预训练知识和推理能力，所以生成内容的准确性可能不如经过特定任务训练的模型。例如，在专业领域的知识问答任务中，零样本提示可能会因为模型对专业术语的理解不够准确或者缺乏专业知识细节，而生成不太准确的答案。</p>
<h2 id="4-2-少样本提示"><a href="#4-2-少样本提示" class="headerlink" title="4.2 少样本提示"></a>4.2 少样本提示</h2><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7257441472446038071">https://juejin.cn/post/7257441472446038071</a></p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/10.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>定义：</strong>少样本提示(Few-shot) 是指模型在完成任务之前，先提供几个示例来帮助模型理解任务。 </p>
<p><strong>例子：</strong> </p>
<ul>
<li>提示： “翻译以下句子：’The dog is in the garden.’ -&gt; ‘狗在花园里。’  ‘The bird is in the tree.’ -&gt; ‘鸟在树上。’ ‘The cat is on the  roof.’ -&gt;” </li>
<li>回答： “猫在屋顶上。” 通过提供几个翻译示例，模型可以更准确地完成翻译任务。</li>
</ul>
<p>相较于零样本提示，少样本提示能够提供更具体的任务信息，帮助模型更好地理解任务要求，从而提高任务性能。而且与传统的有监督训练需要大量的标注数据不同，少 样本提示只需要少量的精心选择的示例即可，这对于数据获取困难或成本高昂的任务非常有利。 但是，少样本提示的效果对示例的选择非常敏感。示例的质量、多样性、代表性等因 素都会影响模型的学习效果。如果示例过于简单或复杂、缺乏代表性或者存在错误，都可能导致模型学习到错误的任务模式。除此之外，这样做的代价是消耗更多的token，并且当输入和输出文本较长时，可能会达到上下文长度限制。</p>
<p>以相同的情感导向判别任务为例，利用少样本提示进行模型测试：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs">Prompt：<br>以下是一些示例句子及其情感导向，请根据这些示例句子的情感导向，判断后续例子的情绪类别。<br>示例1：《我不是药神》这部电影让人看了太感动了。情绪导向：积极<br>示例2：今天长沙的风太大了，真让人无语。情绪类别：消极<br>示例3：我觉得这个中秋节目中规中矩。情绪导向：中性<br>请判断下面句子的情绪类别：<br>句子1：今天是平平淡淡的一天。<br>句子2：马上要到周末拥有两天假期了，我特别开心。<br>句子3：我感到有点焦虑，因为下周一有一场重要的面试。<br></code></pre></td></tr></table></figure>

<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/11.png" srcset="/img/loading.gif" lazyload></p>
<p>尽管少样本提示能够提高模型在特定任务上的性能，但与经过大量数据充分训练的模型相比，其性能仍然有限。在一些复杂任务中，如复杂的逻辑推理、高精度的翻译等任务，少样本提示可能无法满足要求，仍然需要更多的训练数据和精细的训练方法来进一步提升模型性能。</p>
<h2 id="4-3-链式思考（CoT）提示"><a href="#4-3-链式思考（CoT）提示" class="headerlink" title="4.3 链式思考（CoT）提示"></a>4.3 链式思考（CoT）提示</h2><p><strong>定义：</strong>链式思考(Chain-of-Thought) 是一种提示技术，通过展示模型思考过程的步骤来解决复杂问题。这种方法可以帮助模型更好地推理和生成答案。</p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs dns">这组数中的奇数加起来是偶数：<span class="hljs-number">4、8、9、15</span>、<span class="hljs-number">12</span>、<span class="hljs-number">2</span>、<span class="hljs-number">1</span>。<br><span class="hljs-keyword">A</span>：将所有奇数相加（<span class="hljs-number">9</span>、<span class="hljs-number">15</span>、<span class="hljs-number">1</span>）得到<span class="hljs-number">25</span>。答案为False。<br>这组数中的奇数加起来是偶数：<span class="hljs-number">17、10、19、4</span>、<span class="hljs-number">8</span>、<span class="hljs-number">12</span>、<span class="hljs-number">24</span>。<br><span class="hljs-keyword">A</span>：将所有奇数相加（<span class="hljs-number">17</span>、<span class="hljs-number">19</span>）得到<span class="hljs-number">36</span>。答案为True。<br>这组数中的奇数加起来是偶数：<span class="hljs-number">16、11、14、4</span>、<span class="hljs-number">8</span>、<span class="hljs-number">13</span>、<span class="hljs-number">24</span>。<br><span class="hljs-keyword">A</span>：将所有奇数相加（<span class="hljs-number">11</span>、<span class="hljs-number">13</span>）得到<span class="hljs-number">24</span>。答案为True。<br>这组数中的奇数加起来是偶数：<span class="hljs-number">17、9、10、12</span>、<span class="hljs-number">13</span>、<span class="hljs-number">4</span>、<span class="hljs-number">2</span>。<br><span class="hljs-keyword">A</span>：将所有奇数相加（<span class="hljs-number">17</span>、<span class="hljs-number">9</span>、<span class="hljs-number">13</span>）得到<span class="hljs-number">39</span>。答案为False。<br>这组数中的奇数加起来是偶数：<span class="hljs-number">15、32、5、13</span>、<span class="hljs-number">82</span>、<span class="hljs-number">7</span>、<span class="hljs-number">1</span>。<br><span class="hljs-keyword">A</span><br></code></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">将所有奇数相加（<span class="hljs-number">15</span>、<span class="hljs-number">5</span>、<span class="hljs-number">13</span>、<span class="hljs-number">7</span>、<span class="hljs-number">1</span>）得到<span class="hljs-number">41</span>。答案为<span class="hljs-literal">False</span>。<br></code></pre></td></tr></table></figure>

<p>提示</p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dns">这组数中的奇数加起来是偶数：<span class="hljs-number">4、8、9、15</span>、<span class="hljs-number">12</span>、<span class="hljs-number">2</span>、<span class="hljs-number">1</span>。<br><span class="hljs-keyword">A</span>：将所有奇数相加（<span class="hljs-number">9</span>、<span class="hljs-number">15</span>、<span class="hljs-number">1</span>）得到<span class="hljs-number">25</span>。答案为False。<br>这组数中的奇数加起来是偶数：<span class="hljs-number">15、32、5、13</span>、<span class="hljs-number">82</span>、<span class="hljs-number">7</span>、<span class="hljs-number">1</span>。<br><span class="hljs-keyword">A</span>：<br></code></pre></td></tr></table></figure>

<p>输出</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">将所有奇数相加（<span class="hljs-number">15</span>、<span class="hljs-number">5</span>、<span class="hljs-number">13</span>、<span class="hljs-number">7</span>、<span class="hljs-number">1</span>）得到<span class="hljs-number">41</span>。答案为<span class="hljs-literal">False</span>。<br></code></pre></td></tr></table></figure>

<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/12.png" srcset="/img/loading.gif" lazyload></p>
<p>标准的prompt</p>
<blockquote>
<p>Q：罗杰有5个⽹球。他⼜买了2罐网球。每个罐⼦有3个⽹球。有多少他现在有多少个网球? </p>
<p>A：答案是11个 </p>
<p>Q：自助餐厅有23个苹果。如果他们用20做午餐，又买了6个，他们有多少个苹果? </p>
<p>A：答案是27个</p>
</blockquote>
<p>链式思考的prompt</p>
<blockquote>
<p> Q：罗杰有5个网球。他又买了2罐网球。每个罐子有3个网球。他现在有多少个网球? </p>
<p>A：罗杰⼀开始有5个球。2罐3个网球，等于6个网球。5 + 6 = 11。答案是11。</p>
<p>Q：自助餐厅有23个苹果。如果他们用20做午餐，又买了6个，他们有多少个苹果? </p>
<p>A：自助餐厅最初有23个苹果。他们使用20个做午饭。23 - 20 = 3。他们又买了 6个苹果，得到3 + 6= 9。答案是9个。</p>
</blockquote>
<p>该方法通过提供中间推理步骤实现了复杂的推理能力，可以结合少样本提示方法引导 模型得到更加准确合理的输出，例如：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs markdown">你是一位专业的健康顾问，需要帮助判断某人是否适合参加马拉松比赛。请使用链式思考方式，通过逐步推理来得出结论。以下是一个示例：<br>示例：<br>输入：年龄：25岁，心率：70次/分钟，过去6个月每周跑步3次，每次跑步10公里。<br>推理过程：<br><span class="hljs-bullet">1.</span> 该人年龄为25岁，属于马拉松适合人群的年轻年龄段。<br><span class="hljs-bullet">2.</span> 静息心率为70次/分钟，处于正常范围，说明心脏健康状况良好。<br><span class="hljs-bullet">3.</span> 过去6个月每周跑步3次，每次跑步10公里，表明该人有稳定的跑步习惯和良好的体能储备。<br>结论：该人适合参加马拉松比赛。<br>请根据以下输入进行推理：<br>输入：年龄：40岁，心率：85次/分钟，过去3个月每周跑步1次，每次跑步5公里。<br>推理过程：<br>结论：<br></code></pre></td></tr></table></figure>

<p>输入给Chatgpt后得到的结果如下：</p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/13.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>零样本 COT 提示</strong></p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/14.png" srcset="/img/loading.gif" lazyload></p>
<p>具体的案例</p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/15.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>自动思维链（Auto-CoT）</strong></p>
<p>生活中的场景这么多，如果每个场景都写个思维链，岂不要累死，于是Amazon  Science团队提出了自动思维链（Auto-CoT）的概念，它通过自动化流程构建“让我们一步步思考”的思维过程，以提高模型在复杂推理任务中的表现。  </p>
<p>自动思维链（Auto - CoT）是一种在自然语言处理领域，特别是针对复杂任务推理的自动化技术。它是思维链（CoT）方法的一种扩展，旨在自动生成思维链提示，而不是像传统 CoT 那样依赖人工设计的带有推理步骤的示例。其核心目标是通过自动化手段，让语言模型能够自动生成连贯的推理步骤来解决复杂问题，进一步提升模型在复杂任务中的性能。</p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/16.png" srcset="/img/loading.gif" lazyload></p>
<p>具体的例子</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs markdown">你是一位数学助理，需要解决数学问题并给出详细的推理过程。请根据问题的描述，自动生成推理步骤并得出答案。回答时使用以下结构：<br><span class="hljs-bullet">1.</span> 问题描述<br><span class="hljs-bullet">2.</span> 推理过程<br><span class="hljs-bullet">3.</span> 答案<br>问题为：小明买了8个苹果和6个橙子，一个苹果3元，一个橙子5元。他用了50元纸币支付，请问他应该找回多少钱？<br></code></pre></td></tr></table></figure>

<p>输入给Chatgpt后得到的结果如下：</p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/17.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="4-4-自我一致性"><a href="#4-4-自我一致性" class="headerlink" title="4.4 自我一致性"></a>4.4 自我一致性</h2><p>自我一致性旨在“替换链式思维提示中使用的天真贪婪解码方法”。其想法是通过少样本 CoT 采样多个不同的推理路径，并使用生成结果选择最一致的答案。这有助于提高 CoT 提示在涉及算术和常识推理的任务中的性能。</p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/18.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="4-5-ReAct"><a href="#4-5-ReAct" class="headerlink" title="4.5 ReAct"></a>4.5 ReAct</h2><p><strong>定义：</strong>ReAct 是一种结合反应（Reaction）和行动（Action）的提示技术，通常用于交互式任务或复杂决策。</p>
<p><strong>例子：</strong></p>
<ul>
<li>提示：”你是一个虚拟助手。用户问：’我今天应该穿什么衣服？’ 你需要根据天气情况给出建议。步骤1：查询天气。步骤2：根据天气给出建议。</li>
<li>回答：<ol>
<li>步骤1：”查询天气：今天的天气是晴天，温度在25-30度之间。”</li>
<li>步骤2： “建议：今天适合穿轻便的夏装，比如T恤和短裤。”</li>
</ol>
</li>
</ul>
<p>通过分步骤反应和行动，模型可以更有效地完成复杂任务。这块需要结合后面讲解的 SpringAI等框架来实现。</p>
<h2 id="4-6-Prompt-Chaining"><a href="#4-6-Prompt-Chaining" class="headerlink" title="4.6 Prompt Chaining"></a>4.6 Prompt Chaining</h2><p><strong>定义：</strong>Prompt Chaining 是将多个提示串联起来，以分步解决复杂问题或完成多步骤任务。</p>
<p><strong>例子：</strong></p>
<ul>
<li>任务：写一篇关于气候变化的文章</li>
<li>提示链：<ol>
<li>“首先，简要介绍什么是气候变化。”</li>
<li>“接下来，描述气候变化的主要原因。”</li>
<li>“然后，讨论气候变化的影响。”</li>
<li>“最后，提出应对气候变化的建议。”</li>
</ol>
</li>
</ul>
<p>通过将任务分解为多个步骤，模型可以更系统和有条理地完成复杂任务。这些技术和方法帮助用户更有效地与大型语言模型互动，获得更高质量的输出。另一个例子：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs markdown">你是一位历史学家，需要逐步回答问题。请按照以下步骤完成：<br><span class="hljs-bullet">1.</span> 确定问题的核心内容。<br><span class="hljs-bullet">2.</span> 提供关于问题中涉及的历史事件的简要背景。<br><span class="hljs-bullet">3.</span> 分析该事件的主要原因。<br><span class="hljs-bullet">4.</span> 解释该事件对历史发展的主要影响。<br><span class="hljs-bullet">5.</span> 总结回答。<br>问题：请描述第二次世界大战的起因，并分析其对世界格局的影响。<br></code></pre></td></tr></table></figure>

<h2 id="4-7-思维树（ToT）"><a href="#4-7-思维树（ToT）" class="headerlink" title="4.7 思维树（ToT）"></a>4.7 思维树（ToT）</h2><p>对于需要探索或预判战略的复杂任务来说，传统或简单的提示技巧是不够的。思维树基于思维链提示进行了总结，引导语言模型探索把思维作为中间步骤来解决通用问题。</p>
<p>ToT 维护着一棵思维树，思维由连贯的语言序列表示，这个序列就是解决问题的中间步骤。使用这种方法，LLM 能够自己对严谨推理过程的中间思维进行评估。LLM 将生成及评估思维的能力与搜索算法（如广度优先搜索和深度优先搜索）相结合，在系统性探索思维的时候可以向前验证和回溯。</p>
<p><img src="/image/spring/springAI/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/19.png" srcset="/img/loading.gif" lazyload></p>
<p>思维树的推理流程为：</p>
<ol>
<li>语义理解：对输入的文本进行语义理解，将自然语言转换为计算机能够理解的形式，通常会使用一系列预训练的语义表示模型，如 BERT、GPT 等，来对输入文本进行编码和表示，从而捕捉到输入文本中的语义信息。</li>
<li>构建思维树：基于对输入文本的语义表示，构建一个思维树，以表示文本中的不同思维路径和关系。这个过程涉及到树状结构的设计和构建算法。</li>
<li> 路径选择：在生成输出文本时，根据输入文本和构建的思维树选择合适的思维路径。该过程通常涉及到路径搜索算法，以确定最相关和最合适的思维路径，ToT 可以考虑到多个可能的思维路径，并根据输入文本的不同语义信息动态调整路径选择策略。</li>
<li>整合信息：选择了合适的思维路径后，从不同路径中获取信息，并将其整合起来，形成一个综合的理解。此过程涉及到信息融合和加权的算法，以确保生成的输出文本能够考虑到多个因素和可能性。</li>
<li>生成输出：根据整合的信息生成输出文本，通常采用生成式模型，如 GPT，来生成连贯、自然的文本。ToT 会根据整合的信息和选择的思维路径来指导文本生成过程，以生成准确、多样化的输出。</li>
</ol>
<p>案例：</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs markdown">任务：请解决以下迷宫路径规划问题，找到从起点 S 到终点 E 的最短路径。采用树状推理（Tree of Thoughts, ToT）方法逐步展开路径选择。<br>问题：  <br>迷宫如下（S为起点，E为终点，X为障碍）：  <br>S 0 0 X 0  <br>X X 0 X 0  <br>0 0 0 0 0  <br>0 X X X E  <br>步骤：<br><span class="hljs-bullet">1.</span> 在当前位置（初始为S）生成所有可能的下一步移动（上、下、左、右）。<br><span class="hljs-bullet">2.</span> 对每个移动进行评估（sure/maybe/impossible）： <br><span class="hljs-bullet">-</span> sure：该路径通畅，且可能是通往终点的最优路径。  <br><span class="hljs-bullet">-</span> maybe：该路径可能可行，但需要进一步尝试。  <br><span class="hljs-bullet">-</span> impossible：该路径不可行或为死路。  <br><span class="hljs-bullet">3.</span> 从评估结果中保留最佳候选路径，继续展开下一步。  <br><span class="hljs-bullet">4.</span> 如果当前路径无解，回退到上一步并重新选择路径。  <br>要求：  <br><span class="hljs-bullet">-</span> 展示每一步的候选路径及其评估结果。  <br><span class="hljs-bullet">-</span> 输出最终的最短路径及其总步数。<br></code></pre></td></tr></table></figure>


                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/spring%E6%A1%86%E6%9E%B6/" class="category-chain-item">spring框架</a>
  
  
    <span>></span>
    
  <a href="/categories/spring%E6%A1%86%E6%9E%B6/SpringAI/" class="category-chain-item">SpringAI</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/AI/">#AI</a>
      
        <a href="/tags/LLM/">#LLM</a>
      
        <a href="/tags/%E6%8F%90%E7%A4%BA%E8%AF%8D%E5%B7%A5%E7%A8%8B/">#提示词工程</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>提示词工程</div>
      <div>http://www.zivjie.cn/2025/11/09/spring框架/springAI/提示词工程/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Francis</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2025年11月9日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2025/11/01/spring%E6%A1%86%E6%9E%B6/springAI/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E4%BB%8B%E7%BB%8D/" title="大模型介绍">
                        <span class="hidden-mobile">大模型介绍</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
